"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setBackgroundColor = exports.set3dBuildingColor = exports.loadCustomMapStyle = exports.mapStyleChange = exports.loadMapStyleErr = exports.loadMapStyles = exports.requestMapStyles = exports.mapConfigChange = exports.inputMapStyle = exports.addCustomMapStyle = void 0;

var _toolkit = require("@reduxjs/toolkit");

var _actionTypes = _interopRequireDefault(require("./action-types"));

// Copyright (c) 2023 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

/**
 * Add map style from user input to reducer and set it to current style
 * This action is called when user click confirm after putting in a valid style url in the custom map style dialog.
 * It should not be called from outside kepler.gl without a valid `inputStyle` in the `mapStyle` reducer.
 * param {void}
 * @memberof mapStyleActions
 * @public
 */
var addCustomMapStyle = (0, _toolkit.createAction)(_actionTypes["default"].ADD_CUSTOM_MAP_STYLE);
/** INPUT_MAP_STYLE */

exports.addCustomMapStyle = addCustomMapStyle;

/**
 * Input a custom map style object
 * @memberof mapStyleActions
 * @param inputStyle
 * @param inputStyle.url - style url e.g. `'mapbox://styles/heshan/xxxxxyyyyzzz'`
 * @param inputStyle.id - style id e.g. `'custom_style_1'`
 * @param inputStyle.style - actual mapbox style json
 * @param inputStyle.label - style name
 * @param inputStyle.accessToken - mapbox access token
 * @param inputStyle.icon - icon image data url
 * @param [mapState] - mapState is optional
 * @public
 */
var inputMapStyle = (0, _toolkit.createAction)(_actionTypes["default"].INPUT_MAP_STYLE, function (inputStyle, mapState) {
  return {
    payload: {
      inputStyle: inputStyle,
      mapState: mapState
    }
  };
});
/** MAP_CONFIG_CHANGE */

exports.inputMapStyle = inputMapStyle;

/**
 * Update `visibleLayerGroups`to change layer group visibility
 * @memberof mapStyleActions
 * @param mapStyle new config `{visibleLayerGroups: {label: false, road: true, background: true}}`
 * @public
 */
var mapConfigChange = (0, _toolkit.createAction)(_actionTypes["default"].MAP_CONFIG_CHANGE, function (mapStyle) {
  return {
    payload: mapStyle
  };
});
exports.mapConfigChange = mapConfigChange;

/**
 * Request map style style object based on style.url.
 * @memberof mapStyleActions
 * @public
 */
var requestMapStyles = (0, _toolkit.createAction)(_actionTypes["default"].REQUEST_MAP_STYLES, function (mapStyles, onSuccess) {
  return {
    payload: {
      mapStyles: mapStyles,
      onSuccess: onSuccess
    }
  };
});
/** LOAD_MAP_STYLES */

exports.requestMapStyles = requestMapStyles;

/**
 * Callback when load map style success
 * @memberof mapStyleActions
 * @param newStyles a `{[id]: style}` mapping
 * @public
 */
var loadMapStyles = (0, _toolkit.createAction)(_actionTypes["default"].LOAD_MAP_STYLES, function (newStyles, onSuccess) {
  return {
    payload: {
      newStyles: newStyles,
      onSuccess: onSuccess
    }
  };
});
/** LOAD_MAP_STYLE_ERR */

exports.loadMapStyles = loadMapStyles;

/**
 * Callback when load map style error
 * @memberof mapStyleActions
 * @param ids
 * @param error
 * @public
 */
var loadMapStyleErr = (0, _toolkit.createAction)(_actionTypes["default"].LOAD_MAP_STYLE_ERR, function (ids, error) {
  return {
    payload: {
      ids: ids,
      error: error
    }
  };
});
/** MAP_STYLE_CHANGE */

exports.loadMapStyleErr = loadMapStyleErr;

/**
 * Change to another map style. The selected style should already been loaded into `mapStyle.mapStyles`
 * @memberof mapStyleActions
 * @param styleType the style to change to
 * @param onSuccess optional success callback function when an asynchronous basemap syle has loaded
 * @public
 */
var mapStyleChange = (0, _toolkit.createAction)(_actionTypes["default"].MAP_STYLE_CHANGE, function (styleType, onSuccess) {
  return {
    payload: {
      styleType: styleType,
      onSuccess: onSuccess
    }
  };
});
/** LOAD_CUSTOM_MAP_STYLE */

exports.mapStyleChange = mapStyleChange;

/**
 * Callback when a custom map style object is received
 * @memberof mapStyleActions
 * @param customMapStyle
 * @param customMapStyle.icon
 * @param customMapStyle.style
 * @param customMapStyle.error
 * @public
 */
var loadCustomMapStyle = (0, _toolkit.createAction)(_actionTypes["default"].LOAD_CUSTOM_MAP_STYLE, function (customMapStyle) {
  return {
    payload: customMapStyle
  };
});
/** SET_3D_BUILDING_COLOR */

exports.loadCustomMapStyle = loadCustomMapStyle;
// SET_3D_BUILDING_COLOR

/**
 * Set 3d building layer group color
 * @memberof mapStyleActions
 * @param color - [r, g, b]
 * @public
 */
var set3dBuildingColor = (0, _toolkit.createAction)(_actionTypes["default"].SET_3D_BUILDING_COLOR, function (color) {
  return {
    payload: color
  };
});
/** SET_BACKGROUND_COLOR */

exports.set3dBuildingColor = set3dBuildingColor;

/**
 * Set background color
 * @memberof mapStyleActions
 * @param color - [r, g, b]
 * @public
 */
var setBackgroundColor = (0, _toolkit.createAction)(_actionTypes["default"].SET_BACKGROUND_COLOR, function (color) {
  return {
    payload: color
  };
});
/**
 * Actions handled mostly by  `mapStyle` reducer.
 * They manage the display of base map, such as loading and receiving base map styles,
 * hiding and showing map layers, user input of custom map style url.
 *
 * @public
 */

/* eslint-disable no-unused-vars */
// @ts-ignore

exports.setBackgroundColor = setBackgroundColor;
var mapStyleActions = null;
/* eslint-enable no-unused-vars */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hY3Rpb25zL3NyYy9tYXAtc3R5bGUtYWN0aW9ucy50cyJdLCJuYW1lcyI6WyJhZGRDdXN0b21NYXBTdHlsZSIsIkFjdGlvblR5cGVzIiwiQUREX0NVU1RPTV9NQVBfU1RZTEUiLCJpbnB1dE1hcFN0eWxlIiwiSU5QVVRfTUFQX1NUWUxFIiwiaW5wdXRTdHlsZSIsIm1hcFN0YXRlIiwicGF5bG9hZCIsIm1hcENvbmZpZ0NoYW5nZSIsIk1BUF9DT05GSUdfQ0hBTkdFIiwibWFwU3R5bGUiLCJyZXF1ZXN0TWFwU3R5bGVzIiwiUkVRVUVTVF9NQVBfU1RZTEVTIiwibWFwU3R5bGVzIiwib25TdWNjZXNzIiwibG9hZE1hcFN0eWxlcyIsIkxPQURfTUFQX1NUWUxFUyIsIm5ld1N0eWxlcyIsImxvYWRNYXBTdHlsZUVyciIsIkxPQURfTUFQX1NUWUxFX0VSUiIsImlkcyIsImVycm9yIiwibWFwU3R5bGVDaGFuZ2UiLCJNQVBfU1RZTEVfQ0hBTkdFIiwic3R5bGVUeXBlIiwibG9hZEN1c3RvbU1hcFN0eWxlIiwiTE9BRF9DVVNUT01fTUFQX1NUWUxFIiwiY3VzdG9tTWFwU3R5bGUiLCJzZXQzZEJ1aWxkaW5nQ29sb3IiLCJTRVRfM0RfQlVJTERJTkdfQ09MT1IiLCJjb2xvciIsInNldEJhY2tncm91bmRDb2xvciIsIlNFVF9CQUNLR1JPVU5EX0NPTE9SIiwibWFwU3R5bGVBY3Rpb25zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFvQkE7O0FBQ0E7O0FBckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFNQSxpQkFFWixHQUFHLDJCQUFhQyx3QkFBWUMsb0JBQXpCLENBRkc7QUFJUDs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7OztBQUNBLElBQU1HLGVBQWUsR0FBRyxJQUF4QjtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDIzIFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuaW1wb3J0IHtjcmVhdGVBY3Rpb259IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHtkZWZhdWx0IGFzIEFjdGlvblR5cGVzfSBmcm9tICcuL2FjdGlvbi10eXBlcyc7XG5pbXBvcnQge1xuICBJbnB1dFN0eWxlLFxuICBNYXBTdHlsZXMsXG4gIE1lcmdlLFxuICBSR0JDb2xvcixcbiAgTWFwU3RhdGUsXG4gIFZpc2libGVMYXllckdyb3VwcyxcbiAgTGF5ZXJHcm91cFxufSBmcm9tICdAa2VwbGVyLmdsL3R5cGVzJztcblxuLyoqXG4gKiBBZGQgbWFwIHN0eWxlIGZyb20gdXNlciBpbnB1dCB0byByZWR1Y2VyIGFuZCBzZXQgaXQgdG8gY3VycmVudCBzdHlsZVxuICogVGhpcyBhY3Rpb24gaXMgY2FsbGVkIHdoZW4gdXNlciBjbGljayBjb25maXJtIGFmdGVyIHB1dHRpbmcgaW4gYSB2YWxpZCBzdHlsZSB1cmwgaW4gdGhlIGN1c3RvbSBtYXAgc3R5bGUgZGlhbG9nLlxuICogSXQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZnJvbSBvdXRzaWRlIGtlcGxlci5nbCB3aXRob3V0IGEgdmFsaWQgYGlucHV0U3R5bGVgIGluIHRoZSBgbWFwU3R5bGVgIHJlZHVjZXIuXG4gKiBwYXJhbSB7dm9pZH1cbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGFkZEN1c3RvbU1hcFN0eWxlOiAoKSA9PiB7XG4gIHR5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5BRERfQ1VTVE9NX01BUF9TVFlMRTtcbn0gPSBjcmVhdGVBY3Rpb24oQWN0aW9uVHlwZXMuQUREX0NVU1RPTV9NQVBfU1RZTEUpO1xuXG4vKiogSU5QVVRfTUFQX1NUWUxFICovXG5leHBvcnQgdHlwZSBJbnB1dE1hcFN0eWxlVXBkYXRlckFjdGlvbiA9IHtcbiAgcGF5bG9hZDoge1xuICAgIGlucHV0U3R5bGU6IFBhcnRpYWw8SW5wdXRTdHlsZT47XG4gICAgbWFwU3RhdGU/OiBNYXBTdGF0ZTtcbiAgfTtcbn07XG4vKipcbiAqIElucHV0IGEgY3VzdG9tIG1hcCBzdHlsZSBvYmplY3RcbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwYXJhbSBpbnB1dFN0eWxlXG4gKiBAcGFyYW0gaW5wdXRTdHlsZS51cmwgLSBzdHlsZSB1cmwgZS5nLiBgJ21hcGJveDovL3N0eWxlcy9oZXNoYW4veHh4eHh5eXl5enp6J2BcbiAqIEBwYXJhbSBpbnB1dFN0eWxlLmlkIC0gc3R5bGUgaWQgZS5nLiBgJ2N1c3RvbV9zdHlsZV8xJ2BcbiAqIEBwYXJhbSBpbnB1dFN0eWxlLnN0eWxlIC0gYWN0dWFsIG1hcGJveCBzdHlsZSBqc29uXG4gKiBAcGFyYW0gaW5wdXRTdHlsZS5sYWJlbCAtIHN0eWxlIG5hbWVcbiAqIEBwYXJhbSBpbnB1dFN0eWxlLmFjY2Vzc1Rva2VuIC0gbWFwYm94IGFjY2VzcyB0b2tlblxuICogQHBhcmFtIGlucHV0U3R5bGUuaWNvbiAtIGljb24gaW1hZ2UgZGF0YSB1cmxcbiAqIEBwYXJhbSBbbWFwU3RhdGVdIC0gbWFwU3RhdGUgaXMgb3B0aW9uYWxcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGlucHV0TWFwU3R5bGU6IChcbiAgaW5wdXRTdHlsZTogSW5wdXRNYXBTdHlsZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnaW5wdXRTdHlsZSddLFxuICBtYXBTdGF0ZT86IElucHV0TWFwU3R5bGVVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ21hcFN0YXRlJ11cbikgPT4gTWVyZ2U8SW5wdXRNYXBTdHlsZVVwZGF0ZXJBY3Rpb24sIHt0eXBlOiB0eXBlb2YgQWN0aW9uVHlwZXMuSU5QVVRfTUFQX1NUWUxFfT4gPSBjcmVhdGVBY3Rpb24oXG4gIEFjdGlvblR5cGVzLklOUFVUX01BUF9TVFlMRSxcbiAgKFxuICAgIGlucHV0U3R5bGU6IElucHV0TWFwU3R5bGVVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ2lucHV0U3R5bGUnXSxcbiAgICBtYXBTdGF0ZTogSW5wdXRNYXBTdHlsZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnbWFwU3RhdGUnXVxuICApID0+ICh7XG4gICAgcGF5bG9hZDoge1xuICAgICAgaW5wdXRTdHlsZSxcbiAgICAgIG1hcFN0YXRlXG4gICAgfVxuICB9KVxuKTtcblxuLyoqIE1BUF9DT05GSUdfQ0hBTkdFICovXG5leHBvcnQgdHlwZSBNYXBDb25maWdDaGFuZ2VVcGRhdGVyQWN0aW9uID0ge1xuICBwYXlsb2FkOiB7XG4gICAgdmlzaWJsZUxheWVyR3JvdXBzPzogVmlzaWJsZUxheWVyR3JvdXBzO1xuICAgIHRvcExheWVyR3JvdXBzPzogVmlzaWJsZUxheWVyR3JvdXBzO1xuICB9O1xufTtcbi8qKlxuICogVXBkYXRlIGB2aXNpYmxlTGF5ZXJHcm91cHNgdG8gY2hhbmdlIGxheWVyIGdyb3VwIHZpc2liaWxpdHlcbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwYXJhbSBtYXBTdHlsZSBuZXcgY29uZmlnIGB7dmlzaWJsZUxheWVyR3JvdXBzOiB7bGFiZWw6IGZhbHNlLCByb2FkOiB0cnVlLCBiYWNrZ3JvdW5kOiB0cnVlfX1gXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBtYXBDb25maWdDaGFuZ2U6IChcbiAgbWFwU3R5bGU6IE1hcENvbmZpZ0NoYW5nZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgTWFwQ29uZmlnQ2hhbmdlVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5NQVBfQ09ORklHX0NIQU5HRX1cbj4gPSBjcmVhdGVBY3Rpb24oXG4gIEFjdGlvblR5cGVzLk1BUF9DT05GSUdfQ0hBTkdFLFxuICAobWFwU3R5bGU6IE1hcENvbmZpZ0NoYW5nZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXSkgPT4gKHtwYXlsb2FkOiBtYXBTdHlsZX0pXG4pO1xuXG50eXBlIE9uTG9hZE1hcFN0eWxlU3VjY2Vzc0NhbGxiYWNrID0gKHBheWxvYWQ6IHtzdHlsZVR5cGU6IHN0cmluZ30pID0+IGFueTtcblxuLyoqIFJFUVVFU1RfTUFQX1NUWUxFUyAqL1xuZXhwb3J0IHR5cGUgUmVxdWVzdE1hcFN0eWxlc1VwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IHtcbiAgICBtYXBTdHlsZXM6IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IHtcbiAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgbGFiZWw/OiBzdHJpbmc7XG4gICAgICAgIHVybDogc3RyaW5nO1xuICAgICAgICBpY29uPzogc3RyaW5nO1xuICAgICAgICBsYXllckdyb3Vwcz86IExheWVyR3JvdXBbXTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBvblN1Y2Nlc3M/OiBPbkxvYWRNYXBTdHlsZVN1Y2Nlc3NDYWxsYmFjaztcbiAgfTtcbn07XG4vKipcbiAqIFJlcXVlc3QgbWFwIHN0eWxlIHN0eWxlIG9iamVjdCBiYXNlZCBvbiBzdHlsZS51cmwuXG4gKiBAbWVtYmVyb2YgbWFwU3R5bGVBY3Rpb25zXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCByZXF1ZXN0TWFwU3R5bGVzOiAoXG4gIG1hcFN0eWxlczogUmVxdWVzdE1hcFN0eWxlc1VwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnbWFwU3R5bGVzJ10sXG4gIG9uU3VjY2Vzcz86IFJlcXVlc3RNYXBTdHlsZXNVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ29uU3VjY2VzcyddXG4pID0+IE1lcmdlPFxuICBSZXF1ZXN0TWFwU3R5bGVzVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5SRVFVRVNUX01BUF9TVFlMRVN9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5SRVFVRVNUX01BUF9TVFlMRVMsXG4gIChcbiAgICBtYXBTdHlsZXM6IFJlcXVlc3RNYXBTdHlsZXNVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ21hcFN0eWxlcyddLFxuICAgIG9uU3VjY2Vzcz86IFJlcXVlc3RNYXBTdHlsZXNVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ29uU3VjY2VzcyddXG4gICkgPT4gKHtwYXlsb2FkOiB7bWFwU3R5bGVzLCBvblN1Y2Nlc3N9fSlcbik7XG5cbi8qKiBMT0FEX01BUF9TVFlMRVMgKi9cbmV4cG9ydCB0eXBlIExvYWRNYXBTdHlsZXNVcGRhdGVyQWN0aW9uID0ge1xuICBwYXlsb2FkOiB7XG4gICAgbmV3U3R5bGVzOiBNYXBTdHlsZXM7XG4gICAgb25TdWNjZXNzPzogT25Mb2FkTWFwU3R5bGVTdWNjZXNzQ2FsbGJhY2s7XG4gIH07XG59O1xuLyoqXG4gKiBDYWxsYmFjayB3aGVuIGxvYWQgbWFwIHN0eWxlIHN1Y2Nlc3NcbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwYXJhbSBuZXdTdHlsZXMgYSBge1tpZF06IHN0eWxlfWAgbWFwcGluZ1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbG9hZE1hcFN0eWxlczogKFxuICBuZXdTdHlsZXM6IExvYWRNYXBTdHlsZXNVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ25ld1N0eWxlcyddLFxuICBvblN1Y2Nlc3M/OiBMb2FkTWFwU3R5bGVzVXBkYXRlckFjdGlvblsncGF5bG9hZCddWydvblN1Y2Nlc3MnXVxuKSA9PiBNZXJnZTxcbiAgTG9hZE1hcFN0eWxlc1VwZGF0ZXJBY3Rpb24sXG4gIHt0eXBlOiB0eXBlb2YgQWN0aW9uVHlwZXMuTE9BRF9NQVBfU1RZTEVTfVxuPiA9IGNyZWF0ZUFjdGlvbihcbiAgQWN0aW9uVHlwZXMuTE9BRF9NQVBfU1RZTEVTLFxuICAoXG4gICAgbmV3U3R5bGVzOiBMb2FkTWFwU3R5bGVzVXBkYXRlckFjdGlvblsncGF5bG9hZCddWyduZXdTdHlsZXMnXSxcbiAgICBvblN1Y2Nlc3M/OiBMb2FkTWFwU3R5bGVzVXBkYXRlckFjdGlvblsncGF5bG9hZCddWydvblN1Y2Nlc3MnXVxuICApID0+ICh7cGF5bG9hZDoge25ld1N0eWxlcywgb25TdWNjZXNzfX0pXG4pO1xuXG4vKiogTE9BRF9NQVBfU1RZTEVfRVJSICovXG5leHBvcnQgdHlwZSBMb2FkTWFwU3R5bGVFcnJVcGRhdGVyQWN0aW9uID0ge1xuICBwYXlsb2FkOiB7XG4gICAgaWRzOiBzdHJpbmdbXTtcbiAgICBlcnJvcjogRXJyb3I7XG4gIH07XG59O1xuLyoqXG4gKiBDYWxsYmFjayB3aGVuIGxvYWQgbWFwIHN0eWxlIGVycm9yXG4gKiBAbWVtYmVyb2YgbWFwU3R5bGVBY3Rpb25zXG4gKiBAcGFyYW0gaWRzXG4gKiBAcGFyYW0gZXJyb3JcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGxvYWRNYXBTdHlsZUVycjogKFxuICBpZHM6IExvYWRNYXBTdHlsZUVyclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnaWRzJ10sXG4gIGVycm9yOiBMb2FkTWFwU3R5bGVFcnJVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ2Vycm9yJ11cbikgPT4gTWVyZ2U8XG4gIExvYWRNYXBTdHlsZUVyclVwZGF0ZXJBY3Rpb24sXG4gIHt0eXBlOiB0eXBlb2YgQWN0aW9uVHlwZXMuTE9BRF9NQVBfU1RZTEVfRVJSfVxuPiA9IGNyZWF0ZUFjdGlvbihcbiAgQWN0aW9uVHlwZXMuTE9BRF9NQVBfU1RZTEVfRVJSLFxuICAoXG4gICAgaWRzOiBMb2FkTWFwU3R5bGVFcnJVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ2lkcyddLFxuICAgIGVycm9yOiBMb2FkTWFwU3R5bGVFcnJVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ2Vycm9yJ11cbiAgKSA9PiAoe3BheWxvYWQ6IHtpZHMsIGVycm9yfX0pXG4pO1xuXG4vKiogTUFQX1NUWUxFX0NIQU5HRSAqL1xuZXhwb3J0IHR5cGUgTWFwU3R5bGVDaGFuZ2VVcGRhdGVyQWN0aW9uID0ge1xuICBwYXlsb2FkOiB7XG4gICAgc3R5bGVUeXBlOiBzdHJpbmc7XG4gICAgb25TdWNjZXNzPzogT25Mb2FkTWFwU3R5bGVTdWNjZXNzQ2FsbGJhY2s7XG4gIH07XG59O1xuLyoqXG4gKiBDaGFuZ2UgdG8gYW5vdGhlciBtYXAgc3R5bGUuIFRoZSBzZWxlY3RlZCBzdHlsZSBzaG91bGQgYWxyZWFkeSBiZWVuIGxvYWRlZCBpbnRvIGBtYXBTdHlsZS5tYXBTdHlsZXNgXG4gKiBAbWVtYmVyb2YgbWFwU3R5bGVBY3Rpb25zXG4gKiBAcGFyYW0gc3R5bGVUeXBlIHRoZSBzdHlsZSB0byBjaGFuZ2UgdG9cbiAqIEBwYXJhbSBvblN1Y2Nlc3Mgb3B0aW9uYWwgc3VjY2VzcyBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIGFuIGFzeW5jaHJvbm91cyBiYXNlbWFwIHN5bGUgaGFzIGxvYWRlZFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbWFwU3R5bGVDaGFuZ2U6IChcbiAgc3R5bGVUeXBlOiBNYXBTdHlsZUNoYW5nZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnc3R5bGVUeXBlJ10sXG4gIG9uU3VjY2Vzcz86IE1hcFN0eWxlQ2hhbmdlVXBkYXRlckFjdGlvblsncGF5bG9hZCddWydvblN1Y2Nlc3MnXVxuKSA9PiBNZXJnZTxcbiAgTWFwU3R5bGVDaGFuZ2VVcGRhdGVyQWN0aW9uLFxuICB7dHlwZTogdHlwZW9mIEFjdGlvblR5cGVzLk1BUF9TVFlMRV9DSEFOR0V9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5NQVBfU1RZTEVfQ0hBTkdFLFxuICAoXG4gICAgc3R5bGVUeXBlOiBNYXBTdHlsZUNoYW5nZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnc3R5bGVUeXBlJ10sXG4gICAgb25TdWNjZXNzPzogTWFwU3R5bGVDaGFuZ2VVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11bJ29uU3VjY2VzcyddXG4gICkgPT4gKHtwYXlsb2FkOiB7c3R5bGVUeXBlLCBvblN1Y2Nlc3N9fSlcbik7XG5cbi8qKiBMT0FEX0NVU1RPTV9NQVBfU1RZTEUgKi9cbmV4cG9ydCB0eXBlIExvYWRDdXN0b21NYXBTdHlsZVVwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IHtcbiAgICBpY29uPzogc3RyaW5nO1xuICAgIHN0eWxlPzogb2JqZWN0O1xuICAgIGVycm9yPzogRXJyb3I7XG4gIH07XG59O1xuLyoqXG4gKiBDYWxsYmFjayB3aGVuIGEgY3VzdG9tIG1hcCBzdHlsZSBvYmplY3QgaXMgcmVjZWl2ZWRcbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwYXJhbSBjdXN0b21NYXBTdHlsZVxuICogQHBhcmFtIGN1c3RvbU1hcFN0eWxlLmljb25cbiAqIEBwYXJhbSBjdXN0b21NYXBTdHlsZS5zdHlsZVxuICogQHBhcmFtIGN1c3RvbU1hcFN0eWxlLmVycm9yXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBsb2FkQ3VzdG9tTWFwU3R5bGU6IChcbiAgY3VzdG9tTWFwU3R5bGU6IExvYWRDdXN0b21NYXBTdHlsZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgTG9hZEN1c3RvbU1hcFN0eWxlVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5MT0FEX0NVU1RPTV9NQVBfU1RZTEV9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5MT0FEX0NVU1RPTV9NQVBfU1RZTEUsXG4gIChjdXN0b21NYXBTdHlsZTogTG9hZEN1c3RvbU1hcFN0eWxlVXBkYXRlckFjdGlvblsncGF5bG9hZCddKSA9PiAoe3BheWxvYWQ6IGN1c3RvbU1hcFN0eWxlfSlcbik7XG5cbi8qKiBTRVRfM0RfQlVJTERJTkdfQ09MT1IgKi9cbmV4cG9ydCB0eXBlIFNldDNkQnVpbGRpbmdDb2xvclVwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IFJHQkNvbG9yO1xufTtcbi8vIFNFVF8zRF9CVUlMRElOR19DT0xPUlxuLyoqXG4gKiBTZXQgM2QgYnVpbGRpbmcgbGF5ZXIgZ3JvdXAgY29sb3JcbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwYXJhbSBjb2xvciAtIFtyLCBnLCBiXVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3Qgc2V0M2RCdWlsZGluZ0NvbG9yOiAoXG4gIGNvbG9yOiBTZXQzZEJ1aWxkaW5nQ29sb3JVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ11cbikgPT4gTWVyZ2U8XG4gIFNldDNkQnVpbGRpbmdDb2xvclVwZGF0ZXJBY3Rpb24sXG4gIHt0eXBlOiB0eXBlb2YgQWN0aW9uVHlwZXMuU0VUXzNEX0JVSUxESU5HX0NPTE9SfVxuPiA9IGNyZWF0ZUFjdGlvbihcbiAgQWN0aW9uVHlwZXMuU0VUXzNEX0JVSUxESU5HX0NPTE9SLFxuICAoY29sb3I6IFNldDNkQnVpbGRpbmdDb2xvclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXSkgPT4gKHtwYXlsb2FkOiBjb2xvcn0pXG4pO1xuXG4vKiogU0VUX0JBQ0tHUk9VTkRfQ09MT1IgKi9cbmV4cG9ydCB0eXBlIFNldEJhY2tncm91bmRDb2xvclVwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IFJHQkNvbG9yO1xufTtcblxuLyoqXG4gKiBTZXQgYmFja2dyb3VuZCBjb2xvclxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHBhcmFtIGNvbG9yIC0gW3IsIGcsIGJdXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRCYWNrZ3JvdW5kQ29sb3I6IChcbiAgY29sb3I6IFNldEJhY2tncm91bmRDb2xvclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgU2V0QmFja2dyb3VuZENvbG9yVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5TRVRfQkFDS0dST1VORF9DT0xPUn1cbj4gPSBjcmVhdGVBY3Rpb24oQWN0aW9uVHlwZXMuU0VUX0JBQ0tHUk9VTkRfQ09MT1IsIChjb2xvcjogUkdCQ29sb3IpID0+ICh7cGF5bG9hZDogY29sb3J9KSk7XG5cbi8qKlxuICogQWN0aW9ucyBoYW5kbGVkIG1vc3RseSBieSAgYG1hcFN0eWxlYCByZWR1Y2VyLlxuICogVGhleSBtYW5hZ2UgdGhlIGRpc3BsYXkgb2YgYmFzZSBtYXAsIHN1Y2ggYXMgbG9hZGluZyBhbmQgcmVjZWl2aW5nIGJhc2UgbWFwIHN0eWxlcyxcbiAqIGhpZGluZyBhbmQgc2hvd2luZyBtYXAgbGF5ZXJzLCB1c2VyIGlucHV0IG9mIGN1c3RvbSBtYXAgc3R5bGUgdXJsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8vIEB0cy1pZ25vcmVcbmNvbnN0IG1hcFN0eWxlQWN0aW9ucyA9IG51bGw7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4iXX0=