"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _panelHeaderAction = _interopRequireDefault(require("../panel-header-action"));

var _mapLayerGroupItem = _interopRequireDefault(require("./map-layer-group-item"));

var _icons = require("../../common/icons");

var _styledComponents2 = require("../../common/styled-components");

var _localization = require("@kepler.gl/localization");

var _cloudProviders = require("@kepler.gl/cloud-providers");

var _constants = require("@kepler.gl/constants");

var _templateObject;

function noop() {}

var StyledInteractionPanel = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  padding-bottom: 12px;\n"])));

LayerGroupSelectorFactory.deps = [_panelHeaderAction["default"], _mapLayerGroupItem["default"]];

function LayerGroupSelectorFactory(PanelHeaderAction, LayerGroupItem) {
  var defaultActionIcons = {
    visible: _icons.EyeSeen,
    hidden: _icons.EyeUnseen,
    top: _cloudProviders.Upload
  };

  var LayerGroupSelector = function LayerGroupSelector(_ref) {
    var layers = _ref.layers,
        editableLayers = _ref.editableLayers,
        onChange = _ref.onChange,
        topLayers = _ref.topLayers,
        threeDBuildingColor = _ref.threeDBuildingColor,
        on3dBuildingColorChange = _ref.on3dBuildingColorChange,
        backgroundColor = _ref.backgroundColor,
        onBackgroundColorChange = _ref.onBackgroundColorChange,
        _ref$actionIcons = _ref.actionIcons,
        actionIcons = _ref$actionIcons === void 0 ? defaultActionIcons : _ref$actionIcons;
    return /*#__PURE__*/_react["default"].createElement(StyledInteractionPanel, {
      className: "map-style__layer-group__selector"
    }, /*#__PURE__*/_react["default"].createElement("div", {
      className: "layer-group__header"
    }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelLabel, null, /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'mapLayers.title'
    }))), /*#__PURE__*/_react["default"].createElement(_styledComponents2.PanelContent, {
      className: "map-style__layer-group"
    }, editableLayers.map(function (_ref2) {
      var slug = _ref2.slug,
          isVisibilityToggleAvailable = _ref2.isVisibilityToggleAvailable,
          isMoveToTopAvailable = _ref2.isMoveToTopAvailable,
          isColorPickerAvailable = _ref2.isColorPickerAvailable;
      return /*#__PURE__*/_react["default"].createElement(LayerGroupItem, {
        key: slug,
        PanelHeaderAction: PanelHeaderAction,
        onChange: onChange,
        slug: slug,
        layers: layers,
        topLayers: topLayers,
        actionIcons: actionIcons,
        isVisibilityToggleAvailable: isVisibilityToggleAvailable,
        isMoveToTopAvailable: isMoveToTopAvailable,
        isColorPickerAvailable: isColorPickerAvailable,
        color: isColorPickerAvailable && slug === _constants.THREE_D_BUILDING_LAYER_GROUP_SLUG ? threeDBuildingColor : slug === _constants.BACKGROUND_LAYER_GROUP_SLUG ? backgroundColor : null,
        onColorChange: isColorPickerAvailable && slug === _constants.THREE_D_BUILDING_LAYER_GROUP_SLUG ? on3dBuildingColorChange : slug === _constants.BACKGROUND_LAYER_GROUP_SLUG ? onBackgroundColorChange : noop
      });
    })));
  };

  return LayerGroupSelector;
}

var _default = LayerGroupSelectorFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NyYy9zaWRlLXBhbmVsL21hcC1zdHlsZS1wYW5lbC9tYXAtbGF5ZXItc2VsZWN0b3IudHN4Il0sIm5hbWVzIjpbIm5vb3AiLCJTdHlsZWRJbnRlcmFjdGlvblBhbmVsIiwic3R5bGVkIiwiZGl2IiwiTGF5ZXJHcm91cFNlbGVjdG9yRmFjdG9yeSIsImRlcHMiLCJQYW5lbEhlYWRlckFjdGlvbkZhY3RvcnkiLCJMYXllckdyb3VwSXRlbUZhY3RvcnkiLCJQYW5lbEhlYWRlckFjdGlvbiIsIkxheWVyR3JvdXBJdGVtIiwiZGVmYXVsdEFjdGlvbkljb25zIiwidmlzaWJsZSIsIkV5ZVNlZW4iLCJoaWRkZW4iLCJFeWVVbnNlZW4iLCJ0b3AiLCJVcGxvYWQiLCJMYXllckdyb3VwU2VsZWN0b3IiLCJsYXllcnMiLCJlZGl0YWJsZUxheWVycyIsIm9uQ2hhbmdlIiwidG9wTGF5ZXJzIiwidGhyZWVEQnVpbGRpbmdDb2xvciIsIm9uM2RCdWlsZGluZ0NvbG9yQ2hhbmdlIiwiYmFja2dyb3VuZENvbG9yIiwib25CYWNrZ3JvdW5kQ29sb3JDaGFuZ2UiLCJhY3Rpb25JY29ucyIsIm1hcCIsInNsdWciLCJpc1Zpc2liaWxpdHlUb2dnbGVBdmFpbGFibGUiLCJpc01vdmVUb1RvcEF2YWlsYWJsZSIsImlzQ29sb3JQaWNrZXJBdmFpbGFibGUiLCJUSFJFRV9EX0JVSUxESU5HX0xBWUVSX0dST1VQX1NMVUciLCJCQUNLR1JPVU5EX0xBWUVSX0dST1VQX1NMVUciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBb0JBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUVBOztBQUNBOzs7O0FBWUEsU0FBU0EsSUFBVCxHQUFnQixDQUFFOztBQUVsQixJQUFNQyxzQkFBc0IsR0FBR0MsNkJBQU9DLEdBQVYsaUhBQTVCOztBQWdCQUMseUJBQXlCLENBQUNDLElBQTFCLEdBQWlDLENBQUNDLDZCQUFELEVBQTJCQyw2QkFBM0IsQ0FBakM7O0FBRUEsU0FBU0gseUJBQVQsQ0FDRUksaUJBREYsRUFFRUMsY0FGRixFQUdFO0FBQ0EsTUFBTUMsa0JBQTZDLEdBQUc7QUFDcERDLElBQUFBLE9BQU8sRUFBRUMsY0FEMkM7QUFFcERDLElBQUFBLE1BQU0sRUFBRUMsZ0JBRjRDO0FBR3BEQyxJQUFBQSxHQUFHLEVBQUVDO0FBSCtDLEdBQXREOztBQUtBLE1BQU1DLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBcUIsT0FVSTtBQUFBLFFBVDdCQyxNQVM2QixRQVQ3QkEsTUFTNkI7QUFBQSxRQVI3QkMsY0FRNkIsUUFSN0JBLGNBUTZCO0FBQUEsUUFQN0JDLFFBTzZCLFFBUDdCQSxRQU82QjtBQUFBLFFBTjdCQyxTQU02QixRQU43QkEsU0FNNkI7QUFBQSxRQUw3QkMsbUJBSzZCLFFBTDdCQSxtQkFLNkI7QUFBQSxRQUo3QkMsdUJBSTZCLFFBSjdCQSx1QkFJNkI7QUFBQSxRQUg3QkMsZUFHNkIsUUFIN0JBLGVBRzZCO0FBQUEsUUFGN0JDLHVCQUU2QixRQUY3QkEsdUJBRTZCO0FBQUEsZ0NBRDdCQyxXQUM2QjtBQUFBLFFBRDdCQSxXQUM2QixpQ0FEZmhCLGtCQUNlO0FBQzdCLHdCQUNFLGdDQUFDLHNCQUFEO0FBQXdCLE1BQUEsU0FBUyxFQUFDO0FBQWxDLG9CQUNFO0FBQUssTUFBQSxTQUFTLEVBQUM7QUFBZixvQkFDRSxnQ0FBQyw2QkFBRCxxQkFDRSxnQ0FBQyw4QkFBRDtBQUFrQixNQUFBLEVBQUUsRUFBRTtBQUF0QixNQURGLENBREYsQ0FERixlQU1FLGdDQUFDLCtCQUFEO0FBQWMsTUFBQSxTQUFTLEVBQUM7QUFBeEIsT0FDR1MsY0FBYyxDQUFDUSxHQUFmLENBQ0M7QUFBQSxVQUFFQyxJQUFGLFNBQUVBLElBQUY7QUFBQSxVQUFRQywyQkFBUixTQUFRQSwyQkFBUjtBQUFBLFVBQXFDQyxvQkFBckMsU0FBcUNBLG9CQUFyQztBQUFBLFVBQTJEQyxzQkFBM0QsU0FBMkRBLHNCQUEzRDtBQUFBLDBCQUNFLGdDQUFDLGNBQUQ7QUFDRSxRQUFBLEdBQUcsRUFBRUgsSUFEUDtBQUVFLFFBQUEsaUJBQWlCLEVBQUVwQixpQkFGckI7QUFHRSxRQUFBLFFBQVEsRUFBRVksUUFIWjtBQUlFLFFBQUEsSUFBSSxFQUFFUSxJQUpSO0FBS0UsUUFBQSxNQUFNLEVBQUVWLE1BTFY7QUFNRSxRQUFBLFNBQVMsRUFBRUcsU0FOYjtBQU9FLFFBQUEsV0FBVyxFQUFFSyxXQVBmO0FBUUUsUUFBQSwyQkFBMkIsRUFBRUcsMkJBUi9CO0FBU0UsUUFBQSxvQkFBb0IsRUFBRUMsb0JBVHhCO0FBVUUsUUFBQSxzQkFBc0IsRUFBRUMsc0JBVjFCO0FBV0UsUUFBQSxLQUFLLEVBQ0hBLHNCQUFzQixJQUFJSCxJQUFJLEtBQUtJLDRDQUFuQyxHQUNJVixtQkFESixHQUVJTSxJQUFJLEtBQUtLLHNDQUFULEdBQ0FULGVBREEsR0FFQSxJQWhCUjtBQWtCRSxRQUFBLGFBQWEsRUFDWE8sc0JBQXNCLElBQUlILElBQUksS0FBS0ksNENBQW5DLEdBQ0lULHVCQURKLEdBRUlLLElBQUksS0FBS0ssc0NBQVQsR0FDQVIsdUJBREEsR0FFQXpCO0FBdkJSLFFBREY7QUFBQSxLQURELENBREgsQ0FORixDQURGO0FBeUNELEdBcEREOztBQXNEQSxTQUFPaUIsa0JBQVA7QUFDRDs7ZUFFY2IseUIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjMgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgUGFuZWxIZWFkZXJBY3Rpb25GYWN0b3J5IGZyb20gJy4uL3BhbmVsLWhlYWRlci1hY3Rpb24nO1xuaW1wb3J0IExheWVyR3JvdXBJdGVtRmFjdG9yeSwge0xheWVyR3JvdXBJdGVtQWN0aW9uSWNvbnN9IGZyb20gJy4vbWFwLWxheWVyLWdyb3VwLWl0ZW0nO1xuaW1wb3J0IHtFeWVTZWVuLCBFeWVVbnNlZW59IGZyb20gJy4uLy4uL2NvbW1vbi9pY29ucyc7XG5cbmltcG9ydCB7UGFuZWxMYWJlbCwgUGFuZWxDb250ZW50fSBmcm9tICcuLi8uLi9jb21tb24vc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHtGb3JtYXR0ZWRNZXNzYWdlfSBmcm9tICdAa2VwbGVyLmdsL2xvY2FsaXphdGlvbic7XG5pbXBvcnQge1Zpc2libGVMYXllckdyb3Vwc30gZnJvbSAnQGtlcGxlci5nbC90eXBlcyc7XG5pbXBvcnQge1VwbG9hZH0gZnJvbSAnQGtlcGxlci5nbC9jbG91ZC1wcm92aWRlcnMnO1xuaW1wb3J0IHtcbiAgVEhSRUVfRF9CVUlMRElOR19MQVlFUl9HUk9VUF9TTFVHLFxuICBCQUNLR1JPVU5EX0xBWUVSX0dST1VQX1NMVUcsXG4gIERFRkFVTFRfTEFZRVJfR1JPVVBcbn0gZnJvbSAnQGtlcGxlci5nbC9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgTWFwQ29uZmlnQ2hhbmdlVXBkYXRlckFjdGlvbixcbiAgU2V0M2RCdWlsZGluZ0NvbG9yVXBkYXRlckFjdGlvbixcbiAgU2V0QmFja2dyb3VuZENvbG9yVXBkYXRlckFjdGlvblxufSBmcm9tICdAa2VwbGVyLmdsL2FjdGlvbnMnO1xuaW1wb3J0IHtNYXBTdHlsZX0gZnJvbSAnQGtlcGxlci5nbC9yZWR1Y2Vycyc7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5jb25zdCBTdHlsZWRJbnRlcmFjdGlvblBhbmVsID0gc3R5bGVkLmRpdmBcbiAgcGFkZGluZy1ib3R0b206IDEycHg7XG5gO1xuXG5leHBvcnQgdHlwZSBMYXllckdyb3VwU2VsZWN0b3JQcm9wcyA9IHtcbiAgbGF5ZXJzOiBWaXNpYmxlTGF5ZXJHcm91cHM7XG4gIGVkaXRhYmxlTGF5ZXJzOiBERUZBVUxUX0xBWUVSX0dST1VQW107XG4gIG9uQ2hhbmdlOiAocGF5bG9hZDogTWFwQ29uZmlnQ2hhbmdlVXBkYXRlckFjdGlvblsncGF5bG9hZCddKSA9PiB2b2lkO1xuICB0b3BMYXllcnM6IE1hcFN0eWxlWyd0b3BMYXllckdyb3VwcyddO1xuICB0aHJlZURCdWlsZGluZ0NvbG9yOiBNYXBTdHlsZVsndGhyZWVEQnVpbGRpbmdDb2xvciddO1xuICBvbjNkQnVpbGRpbmdDb2xvckNoYW5nZTogKHBkOiBTZXQzZEJ1aWxkaW5nQ29sb3JVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ10pID0+IHZvaWQ7XG4gIGJhY2tncm91bmRDb2xvcjogTWFwU3R5bGVbJ2JhY2tncm91bmRDb2xvciddO1xuICBvbkJhY2tncm91bmRDb2xvckNoYW5nZTogKHBkOiBTZXRCYWNrZ3JvdW5kQ29sb3JVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ10pID0+IHZvaWQ7XG4gIGFjdGlvbkljb25zPzogTGF5ZXJHcm91cEl0ZW1BY3Rpb25JY29ucztcbn07XG5cbkxheWVyR3JvdXBTZWxlY3RvckZhY3RvcnkuZGVwcyA9IFtQYW5lbEhlYWRlckFjdGlvbkZhY3RvcnksIExheWVyR3JvdXBJdGVtRmFjdG9yeV07XG5cbmZ1bmN0aW9uIExheWVyR3JvdXBTZWxlY3RvckZhY3RvcnkoXG4gIFBhbmVsSGVhZGVyQWN0aW9uOiBSZXR1cm5UeXBlPHR5cGVvZiBQYW5lbEhlYWRlckFjdGlvbkZhY3Rvcnk+LFxuICBMYXllckdyb3VwSXRlbTogUmV0dXJuVHlwZTx0eXBlb2YgTGF5ZXJHcm91cEl0ZW1GYWN0b3J5PlxuKSB7XG4gIGNvbnN0IGRlZmF1bHRBY3Rpb25JY29uczogTGF5ZXJHcm91cEl0ZW1BY3Rpb25JY29ucyA9IHtcbiAgICB2aXNpYmxlOiBFeWVTZWVuLFxuICAgIGhpZGRlbjogRXllVW5zZWVuLFxuICAgIHRvcDogVXBsb2FkXG4gIH07XG4gIGNvbnN0IExheWVyR3JvdXBTZWxlY3RvciA9ICh7XG4gICAgbGF5ZXJzLFxuICAgIGVkaXRhYmxlTGF5ZXJzLFxuICAgIG9uQ2hhbmdlLFxuICAgIHRvcExheWVycyxcbiAgICB0aHJlZURCdWlsZGluZ0NvbG9yLFxuICAgIG9uM2RCdWlsZGluZ0NvbG9yQ2hhbmdlLFxuICAgIGJhY2tncm91bmRDb2xvcixcbiAgICBvbkJhY2tncm91bmRDb2xvckNoYW5nZSxcbiAgICBhY3Rpb25JY29ucyA9IGRlZmF1bHRBY3Rpb25JY29uc1xuICB9OiBMYXllckdyb3VwU2VsZWN0b3JQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8U3R5bGVkSW50ZXJhY3Rpb25QYW5lbCBjbGFzc05hbWU9XCJtYXAtc3R5bGVfX2xheWVyLWdyb3VwX19zZWxlY3RvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxheWVyLWdyb3VwX19oZWFkZXJcIj5cbiAgICAgICAgICA8UGFuZWxMYWJlbD5cbiAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPXsnbWFwTGF5ZXJzLnRpdGxlJ30gLz5cbiAgICAgICAgICA8L1BhbmVsTGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8UGFuZWxDb250ZW50IGNsYXNzTmFtZT1cIm1hcC1zdHlsZV9fbGF5ZXItZ3JvdXBcIj5cbiAgICAgICAgICB7ZWRpdGFibGVMYXllcnMubWFwKFxuICAgICAgICAgICAgKHtzbHVnLCBpc1Zpc2liaWxpdHlUb2dnbGVBdmFpbGFibGUsIGlzTW92ZVRvVG9wQXZhaWxhYmxlLCBpc0NvbG9yUGlja2VyQXZhaWxhYmxlfSkgPT4gKFxuICAgICAgICAgICAgICA8TGF5ZXJHcm91cEl0ZW1cbiAgICAgICAgICAgICAgICBrZXk9e3NsdWd9XG4gICAgICAgICAgICAgICAgUGFuZWxIZWFkZXJBY3Rpb249e1BhbmVsSGVhZGVyQWN0aW9ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBzbHVnPXtzbHVnfVxuICAgICAgICAgICAgICAgIGxheWVycz17bGF5ZXJzfVxuICAgICAgICAgICAgICAgIHRvcExheWVycz17dG9wTGF5ZXJzfVxuICAgICAgICAgICAgICAgIGFjdGlvbkljb25zPXthY3Rpb25JY29uc31cbiAgICAgICAgICAgICAgICBpc1Zpc2liaWxpdHlUb2dnbGVBdmFpbGFibGU9e2lzVmlzaWJpbGl0eVRvZ2dsZUF2YWlsYWJsZX1cbiAgICAgICAgICAgICAgICBpc01vdmVUb1RvcEF2YWlsYWJsZT17aXNNb3ZlVG9Ub3BBdmFpbGFibGV9XG4gICAgICAgICAgICAgICAgaXNDb2xvclBpY2tlckF2YWlsYWJsZT17aXNDb2xvclBpY2tlckF2YWlsYWJsZX1cbiAgICAgICAgICAgICAgICBjb2xvcj17XG4gICAgICAgICAgICAgICAgICBpc0NvbG9yUGlja2VyQXZhaWxhYmxlICYmIHNsdWcgPT09IFRIUkVFX0RfQlVJTERJTkdfTEFZRVJfR1JPVVBfU0xVR1xuICAgICAgICAgICAgICAgICAgICA/IHRocmVlREJ1aWxkaW5nQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgOiBzbHVnID09PSBCQUNLR1JPVU5EX0xBWUVSX0dST1VQX1NMVUdcbiAgICAgICAgICAgICAgICAgICAgPyBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uQ29sb3JDaGFuZ2U9e1xuICAgICAgICAgICAgICAgICAgaXNDb2xvclBpY2tlckF2YWlsYWJsZSAmJiBzbHVnID09PSBUSFJFRV9EX0JVSUxESU5HX0xBWUVSX0dST1VQX1NMVUdcbiAgICAgICAgICAgICAgICAgICAgPyBvbjNkQnVpbGRpbmdDb2xvckNoYW5nZVxuICAgICAgICAgICAgICAgICAgICA6IHNsdWcgPT09IEJBQ0tHUk9VTkRfTEFZRVJfR1JPVVBfU0xVR1xuICAgICAgICAgICAgICAgICAgICA/IG9uQmFja2dyb3VuZENvbG9yQ2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIDogbm9vcFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICApfVxuICAgICAgICA8L1BhbmVsQ29udGVudD5cbiAgICAgIDwvU3R5bGVkSW50ZXJhY3Rpb25QYW5lbD5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBMYXllckdyb3VwU2VsZWN0b3I7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyR3JvdXBTZWxlY3RvckZhY3Rvcnk7XG4iXX0=